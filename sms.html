<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
<div class="memberDashboard__shoppingList"><div class="memberDashboard__shoppingList__header"><h2 class="memberDashboard__shoppingList__title"><i class="sprite -toscastroke-left"></i> SHOPPING LIST <i class="sprite -toscastroke-right"></i></h2><ul class="memberDashboard__shoppingList__actions is-pulled-right"><li class="memberDashboard__shoppingList__actions__li"><a class="memberDashboard__shoppingList__actions__li__a btnShopListSms" href="javascript:void(0)">SMS</a></li><li class="memberDashboard__shoppingList__actions__li"><a class="memberDashboard__shoppingList__actions__li__a btnShopListMail" href="javascript:void(0)"><i class="i-icon-mail"></i></a></li><li class="memberDashboard__shoppingList__actions__li"><a class="memberDashboard__shoppingList__actions__li__a btnShopListPrint" href="javascript:void(0)"><i class="i-icon-print"></i></a></li></ul></div><div class="shoppingList"><a class="memberDashboard__shoppingList__clearAll removeShoppingList__btn" data-group-id="" data-ingrdnt-name="">Clear Shopping List</a><div class="shoppingListGroup"><a class="memberDashboard__shoppingList__clearGroup removeShoppingList__btn" data-group-id="1" data-ingrdnt-name="">Remove Category</a><h3 class="memberDashboard__shoppingList__subtitle">Banoffee Pie</h3><ul class="ingredientList__list"><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="1" data-ingrdnt-name="plain flour"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                11                                                                                                                                    
                                                                                                                            </label><label class="ingredientList__listitem__main">plain flour</label></li><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="1" data-ingrdnt-name=" icing sugar mixture"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                2                                                                                                                                    
                                                                                                                            </label><label class="ingredientList__listitem__main"> icing sugar mixture</label></li></ul></div><div class="shoppingListGroup"><a class="memberDashboard__shoppingList__clearGroup removeShoppingList__btn" data-group-id="2" data-ingrdnt-name="">Remove Category</a><h3 class="memberDashboard__shoppingList__subtitle">The Best-Ever Caramel Slice</h3><ul class="ingredientList__list"><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="2" data-ingrdnt-name="plain flour"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                1                                                                                                                                    cup
                                                                                                                            </label><label class="ingredientList__listitem__main">plain flour</label></li><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="2" data-ingrdnt-name="brown sugar"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                ½                                                                                                                                    cup
                                                                                                                            </label><label class="ingredientList__listitem__main">brown sugar</label></li><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="2" data-ingrdnt-name="desiccated coconut"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                ½                                                                                                                                    cup
                                                                                                                            </label><label class="ingredientList__listitem__main">desiccated coconut</label></li><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="2" data-ingrdnt-name="395g cans NESTLÉ Sweetened Condensed Milk"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                2                                                                                                                                    
                                                                                                                            </label><label class="ingredientList__listitem__main">395g cans NESTLÉ Sweetened Condensed Milk</label></li></ul></div><div class="shoppingListGroup"><a class="memberDashboard__shoppingList__clearGroup removeShoppingList__btn" data-group-id="3" data-ingrdnt-name="">Remove Category</a><h3 class="memberDashboard__shoppingList__subtitle">Banana &amp; Choc Chip Muffins</h3><ul class="ingredientList__list"><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="3" data-ingrdnt-name="butter, softened"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                              
                                                                                                                            </label><label class="ingredientList__listitem__main">NESTLÉ BAKERS’ CHOICE Milk CHOC BITS</label></li></ul></div><div class="shoppingListGroup"><a class="memberDashboard__shoppingList__clearGroup removeShoppingList__btn" data-group-id="4" data-ingrdnt-name="">Remove Category</a><h3 class="memberDashboard__shoppingList__subtitle">Choc Chip Muffins</h3><ul class="ingredientList__list"><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="4" data-ingrdnt-name="self raising flour"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                2½                                                                                                                                    cups
                                                                                                                            </label><label class="ingredientList__listitem__main">self raising flour</label></li><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="4" data-ingrdnt-name="caster sugar"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                ¾                                                                                                                                    cup
                                                                                                                            </label><label class="ingredientList__listitem__main">caster sugar</label></li><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="4" data-ingrdnt-name="NESTLÉ Dark CHOC BITS"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                1                                                                                                                                    cup
                                                                                                                            </label><label class="ingredientList__listitem__main">NESTLÉ Dark CHOC BITS</label></li><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="4" data-ingrdnt-name="melted butter or margarine"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                2                                                                                                                                    tbsp
                                                                                                                            </label><label class="ingredientList__listitem__main">melted butter or margarine</label></li><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="4" data-ingrdnt-name="skim milk"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                1¼                                                                                                                                    cups
                                                                                                                            </label><label class="ingredientList__listitem__main">skim milk</label></li><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="4" data-ingrdnt-name="egg, lightly beaten"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                1                                                                                                                                    
                                                                                                                            </label><label class="ingredientList__listitem__main">egg, lightly beaten</label></li><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="4" data-ingrdnt-name="vanilla essence"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                1                                                                                                                                    tsp
                                                                                                                            </label><label class="ingredientList__listitem__main">vanilla essence</label></li></ul></div><div class="shoppingListGroup"><a class="memberDashboard__shoppingList__clearGroup removeShoppingList__btn" data-group-id="5" data-ingrdnt-name="">Remove Category</a><h3 class="memberDashboard__shoppingList__subtitle">Choc Chip Muffins</h3><ul class="ingredientList__list"><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="5" data-ingrdnt-name="self raising flour"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                2½                                                                                                                                    cups
                                                                                                                            </label><label class="ingredientList__listitem__main">self raising flour</label></li><li class="ingredientList__listitem"><a class="removeShoppingList__btn" data-group-id="5" data-ingrdnt-name="caster sugar"><div class="ingredientList__listitem__checkbox"><i class="sprite -clear"></i></div></a><label class="ingredientList__listitem__amount">
                                                                ¾                                                                                                                                    cup
                                                                                                                            </label><label class="ingredientList__listitem__main">caster sugar</label></li></ul></div><!-- THEME DEBUG --><!-- THEME HOOK: 'form' --><!-- BEGIN OUTPUT from 'themes/bakerschoice/templates/form/form.html.twig' --><form class="user-preference-ajax-remove-shoplist-form" data-drupal-selector="user-preference-ajax-remove-shoplist-form" action="/user/shopping-list" method="post" id="user-preference-ajax-remove-shoplist-form" accept-charset="UTF-8" data-drupal-form-fields="edit-group-id,edit-ingrdnt-name,edit-submit"><!-- THEME DEBUG --><!-- THEME HOOK: 'user_preference_ajax_remove_shoplist_form' --><!-- BEGIN OUTPUT from 'modules/bakerschoice/user_preference/templates/user-preference-ajax-remove-shoplist-form.html.twig' --><div class="visually-hidden"><!-- THEME DEBUG --><!-- THEME HOOK: 'form_element' --><!-- BEGIN OUTPUT from 'themes/bakerschoice/templates/form/form-element.html.twig' --><div class="js-form-item form-item js-form-type-textfield form-item-group-id js-form-item-group-id"><!-- THEME DEBUG --><!-- THEME HOOK: 'form_element_label' --><!-- BEGIN OUTPUT from 'themes/bakerschoice/templates/form/form-element-label.html.twig' --><label for="edit-group-id">Group ID</label><!-- END OUTPUT from 'themes/bakerschoice/templates/form/form-element-label.html.twig' --><!-- THEME DEBUG --><!-- THEME HOOK: 'input__textfield' --><!-- FILE NAME SUGGESTIONS:
   * input--textfield.html.twig
   x input.html.twig
--><!-- BEGIN OUTPUT from 'themes/bakerschoice/templates/form/input.html.twig' --><input data-drupal-selector="edit-group-id" type="text" id="edit-group-id" name="group_id" value="" size="60" maxlength="128" class="form-text"><!-- END OUTPUT from 'themes/bakerschoice/templates/form/input.html.twig' --></div><!-- END OUTPUT from 'themes/bakerschoice/templates/form/form-element.html.twig' --><!-- THEME DEBUG --><!-- THEME HOOK: 'form_element' --><!-- BEGIN OUTPUT from 'themes/bakerschoice/templates/form/form-element.html.twig' --><div class="js-form-item form-item js-form-type-textfield form-item-ingrdnt-name js-form-item-ingrdnt-name"><!-- THEME DEBUG --><!-- THEME HOOK: 'form_element_label' --><!-- BEGIN OUTPUT from 'themes/bakerschoice/templates/form/form-element-label.html.twig' --><label for="edit-ingrdnt-name">Ingredient Name</label><!-- END OUTPUT from 'themes/bakerschoice/templates/form/form-element-label.html.twig' --><!-- THEME DEBUG --><!-- THEME HOOK: 'input__textfield' --><!-- FILE NAME SUGGESTIONS:
   * input--textfield.html.twig
   x input.html.twig
--><!-- BEGIN OUTPUT from 'themes/bakerschoice/templates/form/input.html.twig' --><input data-drupal-selector="edit-ingrdnt-name" type="text" id="edit-ingrdnt-name" name="ingrdnt_name" value="" size="60" maxlength="128" class="form-text"><!-- END OUTPUT from 'themes/bakerschoice/templates/form/input.html.twig' --></div><!-- END OUTPUT from 'themes/bakerschoice/templates/form/form-element.html.twig' --><!-- THEME DEBUG --><!-- THEME HOOK: 'input__submit' --><!-- FILE NAME SUGGESTIONS:
   * input--submit.html.twig
   x input.html.twig
--><!-- BEGIN OUTPUT from 'themes/bakerschoice/templates/form/input.html.twig' --><input data-drupal-selector="edit-submit" type="submit" id="edit-submit" name="op" value="Submit" class="button js-form-submit form-submit"><!-- END OUTPUT from 'themes/bakerschoice/templates/form/input.html.twig' --><!-- THEME DEBUG --><!-- THEME HOOK: 'input__hidden' --><!-- FILE NAME SUGGESTIONS:
   * input--hidden.html.twig
   x input.html.twig
--><!-- BEGIN OUTPUT from 'themes/bakerschoice/templates/form/input.html.twig' --><input autocomplete="off" data-drupal-selector="form-5esrht8fvb4rlg04y959ylaqdnbwllwkfnsfhlrhiks" type="hidden" name="form_build_id" value="form-5ESrhT8FVB4RlG04Y959yLAQdnbWLLwkFNSfhLrhIks"><!-- END OUTPUT from 'themes/bakerschoice/templates/form/input.html.twig' --><!-- THEME DEBUG --><!-- THEME HOOK: 'input__hidden' --><!-- FILE NAME SUGGESTIONS:
   * input--hidden.html.twig
   x input.html.twig
--><!-- BEGIN OUTPUT from 'themes/bakerschoice/templates/form/input.html.twig' --><input data-drupal-selector="edit-user-preference-ajax-remove-shoplist-form-form-token" type="hidden" name="form_token" value="T_zVAZnwxsR5pA_dJyrotVoxiTrE4uZPWqmSNeCTop0"><!-- END OUTPUT from 'themes/bakerschoice/templates/form/input.html.twig' --><!-- THEME DEBUG --><!-- THEME HOOK: 'input__hidden' --><!-- FILE NAME SUGGESTIONS:
   * input--hidden.html.twig
   x input.html.twig
--><!-- BEGIN OUTPUT from 'themes/bakerschoice/templates/form/input.html.twig' --><input data-drupal-selector="edit-user-preference-ajax-remove-shoplist-form" type="hidden" name="form_id" value="user_preference_ajax_remove_shoplist_form"><!-- END OUTPUT from 'themes/bakerschoice/templates/form/input.html.twig' --></div><!-- END OUTPUT from 'modules/bakerschoice/user_preference/templates/user-preference-ajax-remove-shoplist-form.html.twig' --></form><!-- END OUTPUT from 'themes/bakerschoice/templates/form/form.html.twig' --></div></div>
</body>
</html>

<script type="text/javascript">
var BakersChoice = BakersChoice || {};
	$('.memberDashboard__shoppingList__actions a').on('click', function(){
        var shoppingListElem = $('.shoppingList');
        var shoppingListGroups = $('.shoppingListGroup', shoppingListElem);
        var text = '';

        shoppingListGroups.each(function(){
            text += $('.memberDashboard__shoppingList__subtitle', $(this)).text().replace(/\s+/g, " ") + '\n';
            $('.ingredientList__listitem', $(this)).each(function(){
                text += '- ' + $('label', $(this)).text().replace(/\s+/g, " ") + '\n';
            });
        });
        console.log(text);
        text = encodeURIComponent(text);


        if( $(this).hasClass('btnShopListSms') ){
            BakersChoice.share('sms', null, text, null);
        }
        if( $(this).hasClass('btnShopListMail') ){
            BakersChoice.share('mail', 'My BakersChoice shopping list', text, null);
        }
    });
	
	
   BakersChoice.share = function(platform, subject, text, url){
    if (url !== null){
        var url = url || window.location.href;
    }
    if (subject !== null){
        var subject = subject || 'Check Out This Delicious Recipe at BakersChoice.com.au';
    }
    if (text !== null){
        var text = text || 'Hey, I found this recipe you might be interested in.';
    }

    switch (platform){
        case 'sms': 
                var p = '';
                var c = text.substring(0,400);
                if (typeof url !== 'undefined'){
                    if (url !== '' && url !== null){
                        c += "For more detail, visit " + url;
                    }
                }
                var t = '?body=';

            if (navigator.userAgent.match(/(iPod|iPhone|iPad)/)) { // add your own iOS check
                t = '&body=';
            }
            
            var href = 'sms:'+ p + t + c;
            // var mlink = document.createElement('a');
            // mlink.setAttribute('href', href);
            window.location = href;
            
            break;
        case 'fb': 
            var loggedIn = window.fb_loggedIn || false;
            if(loggedIn) {
                FB.ui({
                    method: 'share',
                    href: url,
                }, function(response){});
            } else {
                FB.login(function(response) {
                    if (response.status === 'connected') {
                        FB.ui({
                            method: 'share',
                            href: url,
                        }, function(response){});
                    }
                }, {scope: 'public_profile'});
            }
            
            break;
        case 'pin': 
            var share_url = url;
            var media_url = $('img.recipeImage').attr('src');
            var description = $('.recipeExcerpt__intro__text').val();
            var url = "//pinterest.com/pin/create/button/?url="+share_url+"&media="+media_url+"&description="+description;
            window.open(url,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;  
            
            break;
        case 'mail': 
            var href = "mailto:?subject="+subject+"&body=" + text;
            if (typeof url !== 'undefined'){
                if (url !== '' && url !== null){
                    href += "For more detail, visit " + url;
                }
            }
            var mlink = document.createElement('a');
            mlink.setAttribute('href', href);
            window.location = href;
            break;
        default: 
            break;
    }
}

</script>

